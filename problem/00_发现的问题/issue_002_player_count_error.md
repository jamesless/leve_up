# 问题报告 #002: 单人模式只创建了4个玩家

## 发现时间
2026-02-27 11:45

## 问题描述
创建单人游戏后,游戏只有4名玩家,但根据RULE.md规则,应该是5人游戏。

## 当前状态
**玩家列表**:
1. tester01 (玩家) - 38张牌(含底牌)
2. AI-3 - 31张牌
3. AI-4 - 31张牌
4. AI-5 - 31张牌

**总玩家数**: 4 ❌ (应该是5)

## 预期行为
根据RULE.md:
- 玩家人数应该是5人
- 每人31张牌
- 底牌7张
- 总计162张牌(3副扑克牌)

## 实际行为
- 只有4名玩家
- 总牌数: 4×31+7 = 131张 (缺少31张)

## 影响范围
- 严重影响游戏规则测试
- 所有后续测试都基于错误的玩家数量
- 可能影响游戏平衡性和规则正确性

## 可能原因
1. 后端创建单人游戏时,AI玩家数量设置错误
2. 前端显示逻辑遗漏了一个玩家
3. 数据库中实际有5个玩家,但前端未正确渲染

## 建议修复步骤
1. 检查 `backend/handlers/game.go` 中 `CreateSinglePlayerGame` 函数
2. 确认AI玩家创建数量应该是4个(加上真实玩家总共5个)
3. 检查前端 `GameTable.tsx` 的玩家渲染逻辑
4. 验证 `SEAT_POSITIONS` 数组是否包含所有位置

## 重现步骤
1. 登录系统
2. 点击"单人模式"
3. 观察游戏桌面
4. 只能看到3个AI玩家(AI-3, AI-4, AI-5)

## 优先级
**高** - 这是核心游戏规则问题

## 相关文件
- `D:/workshop/leve_up/backend/handlers/game.go`
- `D:/workshop/leve_up/frontend/src/routes/GameTable.tsx`
- `D:/workshop/leve_up/problem/01_发牌规则/screenshots/01_game_start.png`
