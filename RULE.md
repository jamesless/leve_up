# 五人三副牌找朋友升级 完整规则

> **游戏配置**：5 人・3 副牌・找朋友升级・60 分一级・底牌 7 张・反主最多 3 张

---

## 一、基础信息

| 项目 | 说明 |
|------|------|
| **玩家人数** | 5 人 |
| **牌具** | 三副扑克牌（共 162 张） |
| **分值牌** | 5=5分，10=10分，K=10分（所有花色） |
| **总分** | 三副牌共 300 分 |
| **开局打** | 2 |
| **升级方式** | 每人单独升级，从 2 打到 A，先打完获胜 |
| **升级顺序** | 2 → 3 → 4 → 5 → 6 → 7 → 8 → 9 → 10 → J → Q → K → A |

---

## 二、发牌规则

### 2.1 发牌基本规则

| 项目 | 说明 |
|------|------|
| **发牌方向** | 逆时针方向 |
| **每人发牌** | 31 张 |
| **底牌数量** | 7 张（全部发完后剩余的牌作为底牌） |

### 2.2 起始发牌者规则

#### 首局发牌

- **随机确定**：第一局刚开始时，随机指定一个玩家作为起始发牌者

#### 后续局发牌

起始发牌者根据上一局结果确定：

| 上一局结果 | 起始发牌者 |
|------------|------------|
| **庄家赢（1V4）<br>庄家升级** | 庄家 |
| **庄家赢（2V3）<br>庄家升级** | 庄家的朋友 |
| **庄家输** | 逆时针最靠近庄家的玩家 |

### 2.3 发牌示例

**场景一：首局**
- 随机指定玩家1为起始发牌者
- 逆时针发牌：1 → 5 → 4 → 3 → 2 → 1 → ...

**场景二：庄家赢（1V4），庄家升级**
- 庄家为起始发牌者
- 逆时针发牌：庄家 → 5号位 → 4号位 → 3号位 → 2号位 → 庄家 → ...

**场景三：庄家赢（2V3），庄家升级**
- 庄家的朋友为起始发牌者
- 逆时针从朋友开始发牌

**场景四：庄家输**
- 逆时针最靠近庄家的玩家为起始发牌者
- 例如：庄家在1号位，则5号位（逆时针相邻）开始发牌

---

## 三、抢庄、亮主、反主规则

### 3.1 抢庄规则

#### 抢庄流程

发牌结束后进入抢庄阶段，按以下步骤进行：

```
┌─────────────────────────────────────────────────────────┐
│  第一步：倒计时抢庄（循环）                              │
├─────────────────────────────────────────────────────────┤
│  - 倒计时 10 秒，期间任何玩家可以抢庄                    │
│  - 如有人抢庄，再倒计时 5 秒给其他玩家反庄机会           │
│  - 循环进行，直到无人反庄                               │
└─────────────────────────────────────────────────────────┘
                    ↓ 无人抢庄
┌─────────────────────────────────────────────────────────┐
│  第二步：翻底牌定庄                                     │
├─────────────────────────────────────────────────────────┤
│  - 从底牌从上往下一张张翻牌                              │
│  - 翻出场上存在该等级的牌时，确定庄家和主牌             │
│  - 翻出的牌作为主牌（比大小王小，比其他主牌大）         │
└─────────────────────────────────────────────────────────┘
                    ↓ 翻完7张仍未定庄
┌─────────────────────────────────────────────────────────┐
│  第三步：首发人当庄                                     │
├─────────────────────────────────────────────────────────┤
│  - 起始发牌人成为庄家                                   │
│  - 第七张底牌的花色作为主牌花色                         │
│  - 首发人的等级作为本轮主牌                             │
└─────────────────────────────────────────────────────────┘
```

#### 倒计时抢庄规则

| 阶段 | 倒计时 | 说明 |
|------|--------|------|
| 初始倒计时 | 10 秒 | 发牌后开始，任何玩家可抢庄 |
| 追加倒计时 | 5 秒 | 有人抢庄后，给其他玩家反庄机会 |
| 循环 | 持续 | 每次有人反庄，再追加 5 秒倒计时 |

- **抢庄方式**：亮出级牌（单张、对子、三张均可）
- **循环结束**：倒计时内无人抢庄或反庄

#### 翻底牌定庄规则

当倒计时无人抢庄时，从底牌从上往下一张张翻牌：

**翻牌定庄条件**：

1. **翻出的牌点数等于场上某玩家的等级**
   - 该玩家成为庄家
   - 翻出的牌的花色作为主牌花色
   - 该牌作为本轮主牌（比大小王小，比其他主牌大）

2. **多个玩家等级相同**
   - 按逆时针顺序查看
   - 距离起始发牌人最近的玩家当庄

#### 示例：翻牌定庄

```
当前打2级：
玩家A：2级
玩家B：3级
玩家C：2级
玩家D：4级
玩家E：5级
起始发牌人：玩家A
翻出第一张底牌：方片2

结果：
- 玩家A和玩家C都是2级
- 按逆时针顺序，玩家A距离首发人（自己）最近
- 玩家A成为庄家
- 方片2成为本轮主牌
```

#### 首发人当庄规则

当翻完7张底牌仍未定庄时：

| 项目 | 规则 |
|------|------|
| **庄家** | 起始发牌人 |
| **主牌花色** | 从第七张开始往前找，第一张有花色的底牌的花色 |
| **主牌等级** | 首发人的等级 |

**确定主牌花色的规则**：
- 从第七张底牌开始检查
- 如果是有花色的牌（♠♥♣♦），该花色作为主花色
- 如果是王（大王/小王），往前找第六张
- 如果第六张也是王，继续往前找第五张
- 依此类推，直到找到有花色的牌

**示例1：第七张有花色**
```
首发人等级：4级
第七张底牌：方片8

结果：
- 首发人成为庄家
- 方片作为主牌花色
- 本轮游戏打方片4
```

**示例2：第七张是王**
```
首发人等级：4级
第七张底牌：大王
第六张底牌：红桃10

结果：
- 首发人成为庄家
- 红桃作为主牌花色（第六张）
- 本轮游戏打红桃4
```

**示例3：连续多张是王**
```
首发人等级：4级
第七张底牌：大王
第六张底牌：小王
第五张底牌：黑桃5

结果：
- 首发人成为庄家
- 黑桃作为主牌花色（第五张）
- 本轮游戏打黑桃4
```

#### 级牌定义

- **级牌**：玩家当前的等级牌
- 例如：打2级时，所有花色的2都是级牌
- 打3级时，所有花色的3都是级牌

### 3.2 叫庄规则

#### 基本规则

- 玩家使用**级牌**叫庄
- 用哪门花色的级牌叫庄，哪门就是主牌花色
- **示例**：当前打 2，用红桃 2 叫庄，则红桃为主牌花色
- 叫庄后，其他玩家可以进行反庄

#### 叫庄类型

| 叫庄类型 | 说明 | 主牌花色 |
|----------|------|----------|
| 单张叫庄 | 亮出一张级牌 | 该级牌的花色 |
| 对子叫庄 | 亮出一对级牌 | 该级牌的花色 |
| 三张叫庄 | 亮出三张级牌 | 该级牌的花色 |

### 3.3 反庄规则（反主）

#### 反庄基础规则

**核心规则**：必须比临时庄家亮的牌多至少一张牌

- 单张叫庄 → 至少用两张反庄
- 两张叫庄 → 至少用三张反庄
- 三张叫庄 → 封顶，不能再反

#### 反庄方式

**方式一：用临时庄家的级牌反庄**

- 使用**临时庄家的级牌**反庄
- 反庄成功后，**庄家不变**，只变**主牌花色**
- **示例**：
  ```
  玩家A用一张红桃2叫庄 → 玩家A成为临时庄家，主牌为2，主牌花色为红桃
  玩家B用两张方片2反庄 → 庄家依旧为玩家A，主牌为2，主牌花色变为方片
  ```

**特殊情况：反庄者的级牌也是2**
- 当临时庄家打2，反庄者的级牌也是2时
- 使用2反庄时，**庄家会转移**给反庄者，同时改变主牌花色
- **示例**：
  ```
  玩家A用一张红桃2叫庄 → 玩家A成为临时庄家，主牌为2，主牌花色为红桃
  玩家B的级牌也是2，用两张方片2反庄 → 临时庄家变为玩家B，主牌为2，主牌花色变为方片
  ```

**方式二：用玩家自己的级牌反庄**

- 使用**玩家自己的级牌**反庄
- 反庄成功后，**玩家变为临时庄家**，主牌花色变为玩家亮的花色
- **示例**：
  ```
  玩家A用一张红桃2叫庄 → 玩家A成为临时庄家，主牌为2，主牌花色为红桃
  玩家B的级牌为3，用两张黑桃3反庄 → 临时庄家变为玩家B，主牌为3，主牌花色变为黑桃
  ```

#### 反主强度

三副牌专用规则，最多反到 3 张：

| 强度 | 反庄牌型 | 可反对象 | 说明 |
|------|----------|----------|------|
| 1 | 单张级牌 | — | — |
| 2 | 两张相同级牌 | 单张 | 可反单张级牌 |
| 3 | 三张相同级牌 | 单张、两张 | 可反单张级牌和两张级牌，封顶不能再反 |

#### 反庄流程图

```
叫庄 → 玩家A反庄 → 玩家B再反 → ... → 确定最终庄家和主花色
 ↓      ↓            ↓
单张2   对子2        三张2        (反主强度递增)
```

### 3.4 定主

- 按亮主/反主最终结果确定主花色
- 确定后全场公告主牌花色

---

## 四、庄家流程

### 4.1 拿底牌

1. **收取底牌**：庄家收取 7 张底牌
2. **整理手牌**：将底牌与手牌合并整理
3. **扣回底牌**：选择 7 张牌扣回底牌（面朝下，不公开）
4. **扣牌规则**：随意扣牌，不做任何限制（可以扣主牌、分牌等任意牌）

### 4.2 找朋友（核心机制）

#### 叫牌流程

1. **庄家埋牌**：庄家收取底牌并扣回7张底牌
2. **庄家叫牌**：庄家通过轮盘选择器指定一张牌（花色 + 点数 + 第几张，或大王/小王 + 第几张），如「第1张红桃 A」或「第3张大王」
3. **盟友认定**：游戏中第N个打出这张牌的玩家（N为指定的张数），自动成为庄家的秘密盟友
4. **队伍分配**：
   - 庄家 + 盟友 = 庄家方（2 人）
   - 其余 3 人 = 抓分方（3 人）

**叫牌范围**：
- 任意花色的任意点数（如红桃A、方片5等）
- 大王
- 小王
- **必须指定第几张**（第1张、第2张或第3张，N≤3）

**叫牌限制**：
- ❌ **不可以叫本轮场上已经亮过的牌**（叫庄、反庄时亮出的牌）
- ✅ 翻出来的底牌不算在内（底牌中的牌可以叫）
- ✅ 可以叫大王或小王（第1张、第2张或第3张）

**叫牌策略**：
- 叫第1张：最早打出者为盟友，盟友身份暴露最早
- 叫第2张：中间打出者为盟友，增加不确定性
- 叫第3张：最后打出者为盟友，盟友身份暴露最晚，战略性更强

#### 轮盘选择器界面设计

庄家在叫牌时，系统会提供三个轮盘选择器：

##### 第一步：选择牌类型

```
┌─────────────────────────────────┐
│         选择牌类型轮盘            │
├─────────────────────────────────┤
│                                 │
│         🃏 大王                  │
│                                 │
│         🂿 小王                  │
│                                 │
│     ♠ 黑桃         ♥ 红桃        │
│                                 │
│     ♣ 梅花         ♦ 方片        │
│                                 │
│         NT 无将（可选）          │
└─────────────────────────────────┘
```

**交互说明**：
- 点击区域或拖动轮盘选择
- 适配手机：单指滑动旋转轮盘
- 适配电脑：鼠标拖动旋转轮盘
- 选中后高亮显示

##### 第二步：选择点数（仅限选择花色时）

```
┌─────────────────────────────────┐
│         选择点数轮盘              │
├─────────────────────────────────┤
│                                 │
│      A   K   Q   J              │
│                                 │
│    10   9   8   7               │
│                                 │
│     6   5   4   3               │
│                                 │
│         2                       │
└─────────────────────────────────┘
```

**交互说明**：
- **此步骤仅在选择花色（非王）时出现**
- 点数按大小逆时针排列（A最大，2最小）
- 点击点数区域或拖动轮盘选择
- 手机：单指滑动旋转
- 电脑：鼠标拖动旋转
- 选中后点数高亮显示

##### 第三步：选择第几张

```
┌─────────────────────────────────┐
│      选择第几张轮盘               │
├─────────────────────────────────┤
│                                 │
│          第 1 张                 │
│     （最早打出，身份暴露早）      │
│                                 │
│          第 2 张                 │
│     （中间打出，增加不确定性）    │
│                                 │
│          第 3 张                 │
│     （最后打出，身份暴露晚）      │
│                                 │
└─────────────────────────────────┘
```

**交互说明**：
- 三副牌游戏，每种牌有3张
- 选择第几个打出该牌的玩家成为盟友
- 点击选择或拖动轮盘
- 选中后高亮显示
- 显示每个选项的战略提示

##### 最终确认界面

**示例1：叫花色牌**
```
┌─────────────────────────────────┐
│        确认叫牌                  │
├─────────────────────────────────┤
│                                 │
│      第 1 张 ♥ 红桃 A            │
│     （您选择的朋友牌）            │
│                                 │
│     [ 重新选择 ]  [ 确认 ]       │
└─────────────────────────────────┘
```

**示例2：叫王**
```
┌─────────────────────────────────┐
│        确认叫牌                  │
├─────────────────────────────────┤
│                                 │
│        第 3 张 🃏 大王            │
│     （您选择的朋友牌）            │
│                                 │
│     [ 重新选择 ]  [ 确认 ]       │
└─────────────────────────────────┘
```

#### 响应式设计规范

| 设备类型 | 屏幕尺寸 | 轮盘尺寸 | 交互方式 |
|----------|----------|----------|----------|
| 手机 | < 768px | 280-320px | 单指滑动、点击 |
| 平板 | 768-1024px | 350-400px | 滑动、点击 |
| 电脑 | > 1024px | 400-450px | 鼠标拖动、点击 |

#### 技术实现要点

1. **动画效果**
   - 轮盘旋转动画（300-500ms缓动）
   - 选中状态高亮闪烁
   - 切换轮盘时淡入淡出

2. **触摸优化**
   - 支持惯性滑动
   - 触觉反馈（震动）
   - 防止误触（确认弹窗）

3. **视觉反馈**
   - 当前选中项放大显示
   - 未选项半透明
   - 指针指向选中位置

4. **选择流程优化**
   - 选择花色后自动进入点数选择
   - 选择王后直接进入"第几张"选择（跳过点数选择）
   - 选择完"第几张"后进入确认界面
   - 大王和小王需要明显的图标标识

5. **三副牌特性**
   - 清晰显示"第1/2/3张"的战略意义
   - 提供每个选项的简要说明
   - 可以通过进度条显示当前选择步骤（1/3、2/3、3/3）

#### 特殊情况

| 情况 | 结果 | 队形 |
|------|------|------|
| 叫的牌（第N张）在庄家手牌中 | 无法打出第N张，庄家独打 | 1 打 4 |
| 叫的牌（第N张）在底牌中 | 无法打出第N张，庄家独打 | 1 打 4 |
| 叫的牌（第N张）在他人手牌中 | 第N个打出该牌的玩家成为盟友 | 2 打 3 |
| 庄家持有该牌的部分但未达到N张 | 例如叫第3张红桃A，庄家有1张，其他玩家有2张，则第3个打出者为盟友 | 2 打 3 |

**示例说明**：
```
场景：庄家叫"第2张红桃A"
分布：庄家手中1张红桃A，玩家B手中1张，玩家D手中1张

结果：
- 第1个打出红桃A：可能是庄家、玩家B或玩家D（不是盟友）
- 第2个打出红桃A：该玩家成为盟友（无论是谁）
- 第3个打出红桃A：不影响（盟友已确定）
```

#### 盟友识别时机

- 系统会实时统计指定牌被打出的次数
- 当第N张指定牌被打出时，打出者被识别为盟友
- 识别后盟友身份对所有人公开
- 识别前双方都不知道谁是盟友
- 如果游戏结束时仍未打出第N张，则判定为庄家独打（1打4）

**示例**：
```
庄家叫"第3张方片5"
- 有玩家打出方片5（第1次）→ 系统计数：1/3，盟友未确定
- 有玩家打出方片5（第2次）→ 系统计数：2/3，盟友未确定
- 有玩家打出方片5（第3次）→ 系统计数：3/3，该玩家确认为盟友！
```

---

## 五、出牌规则

### 5.1 出牌顺序

- **出牌方向**：逆时针
- **首轮出牌**：庄家先出牌
- **后续轮次**：上一轮最大者领出

### 5.2 牌型定义

#### 基本牌型

| 牌型 | 定义 | 示例 | 张数 |
|------|------|------|------|
| **单张** | 任意一张牌 | 黑桃 10 | 1 张 |
| **对子** | 相同花色、相同点数的两张牌 | 黑桃 10 + 黑桃 10 | 2 张 |
| **三张** | 相同花色、相同点数的三张牌 | 红桃 K + 红桃 K + 红桃 K | 3 张 |

**重要说明**：
- **对子**：必须是**相同花色**和**相同点数**的两张牌
  - ✅ 红桃10 + 红桃10 = 对子
  - ✅ 大王 + 大王 = 对子
  - ❌ 大王 + 小王 = 两张散牌（点数不同，不是对子）
  - ❌ 红桃10 + 黑桃10 = 两张散牌（花色不同，不是对子）

#### 组合牌型

| 牌型 | 定义 | 示例 | 张数 |
|------|------|------|------|
| **拖拉机（连对）** | 两对或以上相同花色、连续点数的对子 | 黑桃对 10 + 黑桃对 J + 黑桃对 Q | 6 张 |
| **拖拉机（连三张）** | 两组或以上相同花色、连续点数的三张 | 梅花三 8 + 梅花三 9 | 6 张 |
| **甩牌** | 同花色的任意组合（需满足甩牌条件） | 红桃 5 + 红桃 6 + 红桃 8 + 红桃 10 | 2+ 张 |

#### ⚠️ 拖拉机注意事项

拖拉机是按照**牌的等级（上下级）连续**，而非仅按点数连续。

**示例**（假设黑桃5是主牌色）：
- ✅ 方片对4 + 方片对6 → **是拖拉机**（等级上连续：副4、副6紧邻，中间的副5是主牌色不在副牌中）
- ✅ 主对10 + 主对J + 主对Q → **是拖拉机**（主牌花色等级连续）
- ✅ 对主级牌 + 对主A + 对主K → **是拖拉机**（主牌等级连续）

**理解要点**：
- 主牌和副牌分开计算等级
- 副牌中，当前打的级数（如5）会因花色不同而分为主级牌和副级牌
- 判断拖拉机时要看牌在**实际等级序列**中是否连续，而不是看点数
- **注意**：大王+小王不是对子（点数不同），不能组成拖拉机

#### 甩牌条件

**甩牌成功条件**：玩家出的每张牌（按牌型分组）都必须大于等于其他所有玩家手中该花色的对应牌型。

**甩牌验证流程**：
1. 甩牌者出牌后，系统按**逆时针顺序**逐个询问其他玩家
2. 每个玩家检查手中是否有该花色的牌能够"管上"甩牌中的任意牌型
3. 如果有玩家能管上，该玩家可以选择让甩牌者留哪种牌型的最小在场上
4. 甩牌者必须收回其他所有牌，只保留被选择的牌型中的最小牌
5. 如果所有玩家都表示无法管上，甩牌成功

**验证规则**：
- **先看牌型，再看点数**：三张 > 对子 > 单张（牌型优先级）
- 对子只能被对子管上，单张只能被单张管上
- 如果能管上任意一个牌型，就可以让甩牌失败
- **按逆时针顺序询问**：从甩牌者的下家开始，逐个询问

**示例1：甩牌失败（对子被管上）**
```
甩牌者出：黑桃对7 + 黑桃单6 + 黑桃单9 + 黑桃单J + 黑桃单Q
验证流程：
  - 逆时针下家：无法管上，通过
  - 逆时针第二家：有黑桃对8（能管上黑桃对7），选择让甩牌者留对7
结果：甩牌者必须收回除黑桃对7以外的所有牌（黑桃6、9、J、Q），只出黑桃对7
```

**示例2：甩牌失败（单张被管上）**
```
甩牌者出：红桃对5 + 红桃单6 + 红桃单8 + 红桃单10
验证流程：
  - 逆时针下家：有红桃单7（能管上红桃单6），可选择让甩牌者留对5或单6
结果：甩牌失败，下家选择让甩牌者留哪种牌型
```

**示例3：甩牌失败（多种牌型被管上，可选择）**
```
甩牌者出：方片对10 + 方片单7 + 方片单Q + 方片单K
验证流程：
  - 逆时针下家：有方片单Q + 方片对8（对8能管上对10，单Q能管上单7）
  - 下家可以选择：
    ① 让甩牌者留对10（收回单7、Q、K）
    ② 或让甩牌者留单7（收回对10、单Q、K）
```

**示例4：甩牌成功**
```
甩牌者出：梅花三张5 + 梅花对6 + 梅花单7
验证流程：
  - 逆时针下家：无法管上，通过
  - 逆时针第二家：无法管上，通过
  - 逆时针第三家：无法管上，通过
  - 逆时针第四家：无法管上，通过
结果：甩牌成功，其他玩家必须跟该花色的牌或垫牌
```

**关键规则**：
- 甩牌按牌型分组验证（三张、对子、单张分别验证）
- **按逆时针顺序逐个询问**，第一个能管上的玩家可以决定留哪种牌型
- 只要有一个玩家能管上任意牌型，甩牌就失败
- 其他玩家可以选择让甩牌者留哪种牌型的最小在场上
- 牌型优先级：三张 > 对子 > 单张

### 5.3 跟牌规则（详细）

#### 核心原则

**必须跟色**：如果有领出花色的牌，必须出该花色的牌。

#### 跟牌优先级（从高到低）

```
1. 相同牌型、相同数量、相同花色
   ↓ （如果没有）
2. 相同花色的对子（尽可能接近领出牌型）
   ↓ （如果没有）
3. 相同花色的单张（散牌）
   ↓ （如果没有该花色）
4. 垫任意其他牌（毙牌/杀牌）
```

#### 详细跟牌规则

**规则1：有领出花色必须跟色**

- 如果手中有领出花色的牌，必须出该花色的牌
- 只有手牌中完全没有领出花色时，才可以出其他花色的牌

**规则2：跟色情况下牌型必须尽可能接近**

| 领出牌型 | 跟牌要求（按优先级） | 示例 |
|----------|---------------------|------|
| 三张 | 同花色三张 → 同花色对子+单张 → 同花色单张 | 领出：三张方片3<br>跟牌：三张方片8（最佳）→ 一对方片10+一张方片5（次选）→ 三张方片散牌（最后） |
| 对子 | 同花色对子 → 同花色单张 | 领出：一对方片10<br>跟牌：一对方片K（最佳）→ 两张方片散牌（次选） |
| 单张 | 同花色单张 | 领出：方片5<br>跟牌：任意一张方片 |

**规则3：没有相同牌型时的处理**

- **没有三张又没有对子**：出同花色的散牌（单张组合）
- **散牌数量必须与领出数量相同**：领出3张，必须跟3张同花色散牌

**规则4：没有领出花色可以随意出（毙牌/杀牌）**

当手牌中完全没有领出花色时，可以出任意牌：

| 出牌类型 | 说明 | 大小比较 |
|----------|------|----------|
| 主牌毙副牌 | 使用同牌型的主牌毙掉副牌 | 主牌 > 所有副牌（牌型必须匹配） |
| 王的地位 | 王作为主牌的一部分 | 大王 > 小王 > 主级牌 > 副级牌 > 主A > ... |
| 其他花色 | 垫其他副牌花色 | 不能毙牌，无法获胜 |

#### 毙牌/杀牌规则

**判断流程**（按顺序检查）：

```
第一步：检查牌型是否匹配
  ├─ 对子 vs 对子 ✅ → 进入第二步
  ├─ 三张 vs 三张 ✅ → 进入第二步
  ├─ 拖拉机 vs 拖拉机 ✅ → 进入第二步
  └─ 牌型不匹配 ❌ → 无法毙牌，领出方获胜

第二步：比较花色（仅当牌型匹配时）
  王 > 主牌 > 副牌
```

**示例**（假设主牌是黑桃）：

| 序号 | 领出牌 | 跟牌 | 第一步：牌型匹配？ | 第二步：花色比较 | 结果 |
|------|--------|------|------------------|----------------|------|
| 1 | 三张方片3 | 三张黑桃2 | ✅ 都是三张 | 主牌 > 副牌 | 黑桃胜 |
| 2 | 一对方片10 | 一对黑桃5 | ✅ 都是对子 | 主牌 > 副牌 | 黑桃胜 |
| 3 | 方片A | 黑桃2 | ✅ 都是单张 | 主牌 > 副牌 | 黑桃胜 |
| 4 | 三张方片A | 大王+小王+黑桃3 | ❌ 三张 vs 散牌 | 无法比较 | 方片胜 |
| 5 | 三张方片A | 三张小王 | ✅ 都是三张 | 王 > 副牌 | 小王胜 |
| 6 | 一对方片10 | 三张主牌5 | ❌ 对子 vs 三张 | 无法比较 | 方片胜 |

**关键要点**：
- **第一步永远是检查牌型**：对子只能和对子比，三张只能和三张比
- **牌型不匹配时**，无论你出的是王还是主牌，都无法毙牌
- **牌型匹配时**，才能进入花色比较：王 > 主牌 > 副牌

#### 跟牌示例

**示例1：领出三张**

```
领出：三张方片3

玩家A手牌：三张方片8、一对方片10、三张黑桃5
跟牌选择：三张方片8（✅ 最佳：相同牌型、相同花色）

玩家B手牌：一对方片K、一张方片5、三张黑桃2
跟牌选择：一对方片K + 一张方片5（✅ 次选：同花色，尽可能接近）

玩家C手牌：三张方片2、三张红桃A
跟牌选择：三张方片2（✅ 最佳：相同牌型、相同花色）

玩家D手牌：三张黑桃10、一对梅花5、一张红桃8
跟牌选择：三张黑桃10（✅ 毙牌：没有方片，用主牌毙）
```

**示例2：领出对子**

```
领出：一对方片10

玩家A手牌：一对方片K、三张黑桃5
跟牌选择：一对方片K（✅ 最佳：相同牌型、相同花色）

玩家B手牌：一张方片8、一张方片5、一对红桃A
跟牌选择：一张方片8 + 一张方片5（✅ 次选：同花色散牌）

玩家C手牌：一对黑桃2、三张梅花3
跟牌选择：一对黑桃2（✅ 毙牌：没有方片，用主牌毙）
```

**示例3：领出单张**

```
领出：方片5

玩家A手牌：方片8、方片10、黑桃A
跟牌选择：方片8 或 方片10（✅ 同花色单张）

玩家B手牌：黑桃2、黑桃K、红桃8
跟牌选择：黑桃2 或 黑桃K（✅ 没方片，用主牌毙）

玩家C手牌：红桃8、梅花5、梅花10
跟牌选择：任意一张（✅ 没方片也没主牌，垫其他副牌）
```

**首家出牌**：黑桃对 10 + 黑桃对 J + 黑桃对 Q（6 张拖拉机）

**其他玩家跟牌顺序**：

| 优先级 | 跟牌类型 | 示例 |
|--------|----------|------|
| 1 | 相同花色、相同数量的拖拉机 | 红桃对 10 + 红桃对 J + 红桃对 Q |
| 2 | 相同花色的对子（拆分） | 方片 10 + 方片 10 |
| 3 | 同花色单张（再拆分） | 梅花 10 |
| 4 | 任意其他牌（毙牌） | 主牌或其他花色 |

### 5.4 毙牌规则

#### 毙牌条件

- 当手牌**没有首家花色**时，可以毙牌
- 毙牌使用**主牌**或其他花色牌

#### 毙牌大小判断流程

**两步判断法**：

1. **第一步：牌型必须完全匹配**
   - 对子只能毙对子
   - 三张只能毙三张
   - 拖拉机只能毙拖拉机
   - 牌型不匹配 → 无法毙牌，领出方获胜

2. **第二步：比较花色（仅当牌型匹配时）**
   - 王（大王、小王）> 主牌 > 副牌
   - 王是主牌的一部分，不单独视为最大牌

#### 毙牌示例

**正确示例**（牌型匹配）：
```
首家出牌：黑桃对10（副牌对子）

跟牌情况：
玩家A（无黑桃）：出主牌对5
→ ✅ 牌型匹配（都是对子），主牌 > 副牌，毙牌成功

玩家B（无黑桃）：出三张小王（主牌三张）
→ ❌ 牌型不匹配（领出是对子，跟的是三张），无法毙牌
注意：大王+小王不是对子，是两张散牌
```

**错误示例**（牌型不匹配）：
```
首家出牌：黑桃对10（副牌对子）

跟牌情况：
玩家C（无黑桃）：出三张主牌3
→ ❌ 牌型不匹配（领出是对子，跟的是三张），无法毙牌，首家获胜

玩家D（无黑桃）：出大王+小王（两张散牌）
→ ❌ 牌型不匹配（领出是对子，跟的是两张散牌），无法毙牌，首家获胜
注意：大王+小王点数不同，不是对子

玩家E（无黑桃）：出主牌A+主牌K（两张散牌）
→ ❌ 牌型不匹配（领出是对子，跟的是两张散牌），无法毙牌，首家获胜
```

**核心要点**：
- 第一步：检查牌型是否匹配（对子 vs 对子、三张 vs 三张）
- 第二步：牌型匹配时，才能比较花色（主牌 > 副牌）
- 牌型不匹配时，无论主副牌，都无法毙牌
- **对子必须是相同花色、相同点数的两张牌**（大王+小王不是对子）

### 5.5 牌型大小比较

#### 主牌与副牌

1. **主牌** > 所有副牌
2. **大王** > **小王** > 所有除王以外的主牌和副牌

#### 同牌型比较

- **主牌花色** > 其他花色
- **级牌** > 普通牌（同级内）
- **点数大小**：A > K > Q > J > 10 > 9 > 8 > 7 > 6 > 5 > 4 > 3 > 2

#### 主牌等级（从大到小）

```
大王 > 小王 > 主级牌 > 副级牌 > 主A > 主K > ... > 主2
```

### 5.6 每轮结算

- **最大者**：赢取本轮所有分牌
- **领出权**：获得下一轮出牌权

---

## 六、抠底与底牌分计算

### 6.1 抠底定义

- **抠底**：最后一圈牌，抓分方（非庄家方）的牌最大
- 抠底成功后，底牌中的分数计入抓分方总分

### 6.2 抠底倍数

| 抠底牌型 | 倍数     | 说明 |
|----------|--------|------|
| 单张抠底 | ×1     | 用单张牌抠底 |
| 对子抠底 | ×2     | 用对子抠底 |
| 三张抠底 | ×4     | 用三张抠底 |
| 拖拉机抠底 | 对应牌型翻倍 | 连对按对子数翻倍，连三按三张数翻倍 |

### 6.3 抠底示例

```
底牌分数：40 分
抠底牌型：对子抠底（×2）
实际得分：40 × 2 = 80 分
```

---

## 七、胜负与升级规则

### 7.1 分数与等级（60 分一级）

三副牌总分 300 分，60 分为一级：

| 抓分范围 | 等级变化 | 说明 |
|----------|----------|------|
| 0 - 59 分 | 庄家方保级 | 庄家方守住 |
| 60 - 119 分 | 庄家方升 1 级 | 庄家方得分 |
| 120 - 179 分 | 抓分方升 1 级 | 抓分方上台 |
| 180 - 239 分 | 抓分方升 2 级 | 抓分方大胜 |
| 240 - 299 分 | 抓分方升 3 级 | 抓分方完胜 |
| 300 分 | 抓分方升 4 级 | 抓分方满光 |

### 7.2 正常局升级表（庄家找到盟友，2 打 3）

| 抓分范围 | 结果 | 庄家方升级 | 抓分方升级 |
|----------|------|------------|------------|
| 0 分 | 大光 | 连升 3 级 | 不升级 |
| 1 - 59 分 | 小光 | 连升 2 级 | 不升级 |
| 60 - 119 分 | 小胜 | 升 1 级 | 不升级 |
| 120 - 179 分 | 反超 | 不升级 | 每人升 1 级 |
| 180 - 239 分 | 大胜 | 不升级 | 每人升 2 级 |
| 240 - 299 分 | 完胜 | 不升级 | 每人升 3 级 |
| 300 分 | 满光 | 不升级 | 每人升 4 级 |

### 7.3 独打局升级表（庄家 1 打 4）

| 抓分范围 | 结果 | 庄家升级 | 抓分方升级 |
|----------|------|----------|------------|
| 0 分 | 大光 | 升 9 级 | 不升级 |
| 1 - 59 分 | 小光 | 升 6 级 | 不升级 |
| 60 - 119 分 | 小胜 | 升 3 级 | 不升级 |
| 120 - 179 分 | 反超 | 不升级 | 每人升 1 级 |
| 180 分及以上 | 惨败 | 不升级 | 每人升 2 级 |

### 7.4 特殊术语说明

| 术语 | 定义 |
|------|------|
| **大光** | 抓分方得 0 分，庄家方完胜 |
| **小光** | 抓分方得 1-59 分，庄家方小胜 |
| **上台** | 抓分方获胜，下一局成为庄家方 |
| **连升** | 一局内连续升多个级别 |
| **满光** | 抓分方拿满分 300 分 |

---

## 八、胜负判定

### 8.1 记级方式

- **单独记级**：所有玩家各自记录自己的级别
- **独立升级**：升级只影响自己的级别，不影响队友

### 8.2 最终胜负

- **获胜条件**：先从 2 打到 A，并赢下该局（A 级获胜）
- **多人到达 A**：最先到达并获胜者为最终赢家
- **级别顺序**：2 → 3 → 4 → 5 → 6 → 7 → 8 → 9 → 10 → J → Q → K → A

### 8.3 游戏结束

```
玩家A: A → 达到终点并获胜 → 🏆 最终冠军
玩家B: K
玩家C: Q
玩家D: J
玩家E: 10
```

---

## 附录：游戏流程图

```
┌─────────────────────────────────────────────────────────┐
│                        游戏开始                          │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  发牌（每人31张）+ 留底牌（7张）                          │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  抢庄（亮主）→ 叫庄 → 反庄 → 确定庄家和主花色              │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  庄家流程：                                              │
│  1. 拿底牌（7张）                                        │
│  2. 叫朋友（指定一张牌）                                  │
│  3. 扣回底牌（7张）                                      │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  开始出牌（直到手牌出完）：                                │
│  - 每轮最大者获得分数和下一轮出牌权                         │
│  - 当朋友牌被打出时，识别盟友身份                          │
│  - 轮数根据出牌方式而定（单张/对子/三张/拖拉机等）          │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  最后一圈：判断是否抠底                                    │
└─────────────────────────────────────────────────────────┘
                            ↓
┌─────────────────────────────────────────────────────────┐
│  结算分数 → 升级 → 下一局                                  │
└─────────────────────────────────────────────────────────┘
```

---

**版本**：v1.0
**更新日期**：2026-02-25
